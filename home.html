<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css"
    integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g=="
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link href="https://fonts.googleapis.com/css2?family=Joan&family=Open+Sans&family=Quicksand:wght@300&display=swap"
    rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <title>Weather App</title>
</head>

<body>
  <div class="box">

    <div id="weathercon">
      <i class="fa-solid fa-sun fa-3x" style="color: #eccc68"></i>{%location%},{%country%}
    </div>

    <div class="info">
      <h2 class="location"><i class="fa-solid fa-street-view"></i>
      {%location%},{%country%}
      </h2>
      <p id="date"> SAT | JUNE 04 | 20:06PM </p>
      <h1 class="temp">{%tempval%}&deg;C</h1>
      <h3 class="tempmin_max">Min {%tempmin%}&deg;C | Max {%tempmax%}&deg;C</h3>
    </div>

  </div>
  <script>
    const curDate = document.getElementById("date");

    let weathercon = document.getElementById("weathercon");

    const tempStatus = "{%tempstatus%}";

    if(tempStatus == "Sunny"){
      weathercon.innerHTML = "<i class='fas fa-sun fa-3x' style='color: #eccc68'></i>"
    }
    else if(tempStatus == "Clouds"){
      weathercon.innerHTML = "<i class='fas fa-cloud fa-3x' style='color: #dfe4ea'></i>"
    }
    else if(tempStatus == "Rainy"){
      weathercon.innerHTML = "<i class='fas fa-cloud-rain fa-3x' style='color: #a4b0be'></i>"
    }
    else{
      weathercon.innerHTML = "<i class='fas fa-cloud fa-3x' style='color: #44c3de'></i>"
    }

    const getCurrentDay = () => {
      var weekDay = new Array(7);
      weekDay[0] = "Sun";
      weekDay[1] = "Mon";
      weekDay[2] = "Tue";
      weekDay[3] = "Wed";
      weekDay[4] = "Thu";
      weekDay[5] = "Fri";
      weekDay[6] = "Sat";
      let currentTime = new Date();
      let day=weekDay[currentTime.getDay()];
      return day;
    };

    const getCurrentTime = () => {
      var monthName = new Array(12);
      monthName[0] = "JAN";
      monthName[1] = "FEB";
      monthName[2] = "MAR";
      monthName[3] = "APR";
      monthName[4] = "MAY";
      monthName[5] = "JUNE";
      monthName[6] = "JULY";
      monthName[7] = "AUG";
      monthName[8] = "SEP";
      monthName[9] = "OCT";
      monthName[10] = "NOV";
      monthName[11] = "DEC";

      var now = new Date();
      var month = now.getMonth();
      var date = now.getDate();

      let hours = now.getHours();
      let mins = now.getMinutes();

      let periods = "AM";
      if (hours > 11) {
        periods = "PM";
        if (hours > 12) hours -= 12;
      }
      if (hours < 10) hours = "0" + hours;
      if (mins < 10) mins = "0" + mins;

      return `${monthName[month]} ${date} | ${hours}:${mins}${periods}`
    }

    curDate.innerHTML=getCurrentDay() + " | " + getCurrentTime();
    
  </script>
</body>

</html>